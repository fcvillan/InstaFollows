<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Login Mockup</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Firebase SDKs (Required for environment initialization) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by the environment
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db, auth;
        let userId = 'unknown';

        async function initializeFirebase() {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                // Sign in with custom token or anonymously
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
                
                userId = auth.currentUser?.uid || crypto.randomUUID();
                document.getElementById('userIdDisplay').textContent = `User ID: ${userId}`;
                
                console.log("Firebase initialized and user authenticated.");
            } catch (error) {
                console.error("Error initializing Firebase or authentication:", error);
            }
        }

        window.initializeFirebase = initializeFirebase;
    </script>
    <style>
        /* Define a font-family that mimics Instagram's logo style */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap');
        .instagram-logo {
            /* Using Dancing Script as the closest freely available alternative */
            font-family: 'Dancing Script', cursive;
            font-size: 4rem; /* Increased size for visual impact */
            font-weight: 400; /* Lighter weight for a softer script look */
        }
    </style>
</head>
<body class="bg-white min-h-screen flex flex-col items-center justify-center p-4" style="font-family: 'Inter', sans-serif;">

    <!-- Close/Exit Button -->
    <div class="fixed top-4 right-4">
        <svg class="w-6 h-6 text-gray-500 cursor-pointer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    </div>

    <!-- Main Content Card (Centered) -->
    <div class="w-full max-w-sm flex flex-col items-center mt-8 md:mt-0">
        <!-- Logo - Updated classes for softer look and better spacing (mb-6) -->
        <h1 class="instagram-logo text-gray-900 mb-6">Instagram</h1>
        
        <!-- User ID Display (For Context) -->
        <p id="userIdDisplay" class="text-xs text-gray-500 mb-4 text-center"></p>

        <!-- Login Form (Non-functional) -->
        <form id="loginForm" class="w-full space-y-3" onsubmit="handleLogin(event)">
            
            <!-- Username/Email Input -->
            <input 
                type="text" 
                id="username"
                placeholder="Phone number, username or email" 
                class="w-full p-3 border border-gray-300 bg-gray-50 rounded-md focus:ring-0 focus:border-gray-400 text-sm"
                required
            >

            <!-- Password Input -->
            <div class="relative">
                <input 
                    type="password" 
                    id="password"
                    placeholder="Password" 
                    class="w-full p-3 pr-12 border border-gray-300 bg-gray-50 rounded-md focus:ring-0 focus:border-gray-400 text-sm"
                    required
                >
                <!-- Password Show/Hide Toggle (Non-functional visual) -->
                <button type="button" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 font-semibold text-sm hover:text-gray-700">
                    Show
                </button>
            </div>

            <!-- Forgot Password Link -->
            <div class="text-right pt-1">
                <a href="#" class="text-xs font-semibold text-blue-500 hover:text-blue-700">Forgot password?</a>
            </div>

            <!-- Login Button -->
            <button 
                type="submit" 
                class="w-full py-2.5 mt-4 bg-blue-400 text-white font-semibold rounded-lg shadow-sm hover:bg-blue-500 transition duration-150 ease-in-out text-sm"
                id="loginButton"
            >
                Log In (MOCK)
            </button>
        </form>
        
        <!-- OR Separator -->
        <div class="flex items-center w-full my-6">
            <div class="flex-grow border-t border-gray-300"></div>
            <span class="mx-4 text-gray-500 text-sm font-semibold">OR</span>
            <div class="flex-grow border-t border-gray-300"></div>
        </div>

        <!-- Facebook Login Button -->
        <button class="w-full py-2 flex items-center justify-center space-x-2 text-blue-800 font-semibold text-sm hover:text-blue-900 transition duration-150 ease-in-out">
            <!-- Facebook Icon (Inline SVG for simplicity) -->
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.477 2 2 6.477 2 12c0 5.176 3.784 9.444 8.706 10.158V14.65h-2.14v-2.67h2.14V10.2c0-2.115 1.258-3.284 3.195-3.284 0.913 0 1.705.068 1.934.099v2.24h-1.328c-1.042 0-1.25.495-1.25 1.23v1.643h2.64l-.42 2.67h-2.22V22.158C18.216 21.444 22 17.176 22 12c0-5.523-4.477-10-10-10z"/>
            </svg>
            <span class="text-blue-800">Continue with Facebook</span>
        </button>

    </div>
    
    <!-- Custom Message Modal (Used instead of alert) -->
    <div id="messageModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50">
        <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-xs text-center">
            <p id="modalMessage" class="text-gray-700 font-semibold mb-4"></p>
            <button onclick="document.getElementById('messageModal').classList.add('hidden'); document.getElementById('messageModal').classList.remove('flex');" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">Close</button>
        </div>
    </div>

    <!-- Footer: Sign Up Link -->
    <div class="absolute bottom-0 w-full text-center py-4 border-t border-gray-200">
        <p class="text-sm text-gray-700">
            Don't have an account? 
            <a href="#" class="font-semibold text-blue-500 hover:text-blue-700">Sign Up.</a>
        </p>
    </div>

    <script>
        // Start Firebase initialization
        window.onload = initializeFirebase;
        
        // Function to display a custom modal message
        function showMessage(message) {
            document.getElementById('modalMessage').textContent = message;
            document.getElementById('messageModal').classList.remove('hidden');
            document.getElementById('messageModal').classList.add('flex');
        }

        // --- NON-FUNCTIONAL LOGIN HANDLER ---
        function handleLogin(event) {
            event.preventDefault(); // Prevents form submission
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username && password) {
                showMessage("Login form submitted! (This is a non-functional mockup for design purposes only.)");
            } else {
                showMessage("Please fill in both fields.");
            }
        }
    </script>
</body>
</html>
